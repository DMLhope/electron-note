<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>个人任务管理器</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
<script src="./vue/dist/vue.js"></script>
<script src="./element-ui/lib/index.js"></script>
<div id="add">
  <el-row :gutter="8" >
  <el-col :span="18">
  <el-input  v-model="tag"  v-on:keyup.enter.native="add_tag"></el-input>
  </el-col>
  <el-col :span="6" >
  <el-button  icon="el-icon-edit" type="primary" v-on:click="add_tag">添加</el-button>
  </el-col>
  </el-row>
</div>
<div id="app">    
<template>
    
  <el-table
    :data="tableData"
    style="width: 100%"
    >
    <el-table-column
      label="任务"
      prop="renwu"
      >
      
    </el-table-column>
    <el-table-column
      fixed="right"
      label="操作"
      width="100">
      <template slot-scope="scope">
        <el-button
          @click.native.prevent="deleteRow(scope.$index, tableData)"
          type="primary"
          icon="el-icon-check"
          size="small" plain>完成
        </el-button>
      </template>
    </el-table-column>
  </el-table>
</template>
</div>
</body>
<script>
  var app=new Vue( {
    el:'#app',
    methods: {
      deleteRow(index, rows) {
        rows.splice(index, 1);
        this.tishi_finsh();
      },
      tishi_finsh() {
        this.$message({
          showClose: true,
          message: '恭喜完成任务',
          type: 'success',
          duration:800
        });
      }
    },
    data:{
      tableData: [{
        renwu:'活着',
      }] 
    }
  })
  // 添加任务函数
  var add=new Vue({
    el:'#add',
    data:{
      tag: ''
    },
    methods: {
      add_tag(){
        app.tableData.push({renwu:this.tag});
        this.tag='';
        this.tishi_add();
      },
      tishi_add() {
        this.$message({
          showClose: true,
          message: '添加成功',
          type: 'success',
          duration:600
        });
      }
    }
  });
  
</script>
</html>
